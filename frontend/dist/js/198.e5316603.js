"use strict";(self["webpackChunklogtool_frontend"]=self["webpackChunklogtool_frontend"]||[]).push([[198],{198:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var o=l(641),n=l(33),r=l(3751);const t={class:"login-container"},s={class:"login-lang-switch"},d={class:"login-box"},i={class:"login-header"},u={class:"login-footer"};function g(e,a,l,g,c,m){const p=(0,o.g2)("Globe"),f=(0,o.g2)("el-icon"),b=(0,o.g2)("el-button"),k=(0,o.g2)("el-dropdown-item"),h=(0,o.g2)("el-dropdown-menu"),_=(0,o.g2)("el-dropdown"),w=(0,o.g2)("el-input"),v=(0,o.g2)("el-form-item"),F=(0,o.g2)("el-form"),L=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",t,[(0,o.Lk)("div",s,[(0,o.bF)(_,{onCommand:g.changeLanguage,disabled:""},{dropdown:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,{command:"zh-CN"},{default:(0,o.k6)(()=>a[3]||(a[3]=[(0,o.eW)("中文")])),_:1,__:[3]}),(0,o.bF)(k,{command:"en-US",disabled:""},{default:(0,o.k6)(()=>a[4]||(a[4]=[(0,o.eW)("English (暂不可用)")])),_:1,__:[4]})]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(b,{type:"text",disabled:""},{default:(0,o.k6)(()=>[(0,o.bF)(f,null,{default:(0,o.k6)(()=>[(0,o.bF)(p)]),_:1}),a[2]||(a[2]=(0,o.eW)(" 中文 "))]),_:1,__:[2]})]),_:1},8,["onCommand"])]),(0,o.Lk)("div",d,[(0,o.Lk)("div",i,[(0,o.Lk)("h1",null,(0,n.v_)(e.$t("login.title")),1)]),(0,o.bF)(F,{ref:"loginForm",model:g.formData,rules:g.rules,class:"login-form",onSubmit:(0,r.D$)(g.handleLogin,["prevent"])},{default:(0,o.k6)(()=>[(0,o.bF)(v,{prop:"username"},{default:(0,o.k6)(()=>[(0,o.bF)(w,{modelValue:g.formData.username,"onUpdate:modelValue":a[0]||(a[0]=e=>g.formData.username=e),placeholder:e.$t("login.username"),"prefix-icon":"User",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),(0,o.bF)(v,{prop:"password"},{default:(0,o.k6)(()=>[(0,o.bF)(w,{modelValue:g.formData.password,"onUpdate:modelValue":a[1]||(a[1]=e=>g.formData.password=e),type:"password",placeholder:e.$t("login.password"),"prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(b,{type:"primary",size:"large",class:"login-button",loading:g.loading,onClick:g.handleLogin},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.login")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules","onSubmit"]),(0,o.Lk)("div",u,[(0,o.bF)(L,{to:"/register",class:"register-link"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.register")),1)]),_:1}),(0,o.bF)(L,{to:"/forgot-password",class:"forgot-link"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.forgotPassword")),1)]),_:1})])])])}var c=l(953),m=l(6278),p=l(5220),f=l(163),b=l(8548),k={name:"Login",components:{Globe:b.Globe},setup(){const e=(0,m.Pj)(),a=(0,p.rd)(),l=(0,c.KR)(null),n=(0,c.Kh)({username:"",password:""}),r=(0,c.KR)(!1),t=(0,o.EW)(()=>e.getters["auth/currentLanguage"]),s={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},d=async()=>{try{await l.value.validate(),r.value=!0,await e.dispatch("auth/login",n),f.nk.success("登录成功"),a.push("/dashboard")}catch(o){f.nk.error(o.response?.data?.message||"登录失败")}finally{r.value=!1}},i=a=>{e.dispatch("auth/setLanguage",a),window.location.reload()};return{loginForm:l,formData:n,loading:r,rules:s,currentLanguage:t,handleLogin:d,changeLanguage:i,Globe:b.Globe}}},h=l(6262);const _=(0,h.A)(k,[["render",g],["__scopeId","data-v-6aa6888d"]]);var w=_}}]);
//# sourceMappingURL=198.e5316603.js.map