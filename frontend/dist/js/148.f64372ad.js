"use strict";(self["webpackChunklogtool_frontend"]=self["webpackChunklogtool_frontend"]||[]).push([[148],{1148:function(e,l,a){a.r(l),a.d(l,{default:function(){return w}});var o=a(641),n=a(33),r=a(3751);const t={class:"login-container"},d={class:"login-lang-switch"},s={class:"login-box"},u={class:"login-header"},i={class:"login-footer"};function g(e,l,a,g,c,m){const p=(0,o.g2)("Globe"),b=(0,o.g2)("el-icon"),f=(0,o.g2)("el-button"),k=(0,o.g2)("el-dropdown-item"),h=(0,o.g2)("el-dropdown-menu"),_=(0,o.g2)("el-dropdown"),w=(0,o.g2)("el-input"),v=(0,o.g2)("el-form-item"),F=(0,o.g2)("el-form"),L=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",t,[(0,o.Lk)("div",d,[(0,o.bF)(_,{onCommand:g.changeLanguage,disabled:""},{dropdown:(0,o.k6)(()=>[(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(k,{command:"zh-CN"},{default:(0,o.k6)(()=>l[3]||(l[3]=[(0,o.eW)("中文")])),_:1,__:[3]}),(0,o.bF)(k,{command:"en-US",disabled:""},{default:(0,o.k6)(()=>l[4]||(l[4]=[(0,o.eW)("English (暂不可用)")])),_:1,__:[4]})]),_:1})]),default:(0,o.k6)(()=>[(0,o.bF)(f,{type:"text",disabled:""},{default:(0,o.k6)(()=>[(0,o.bF)(b,null,{default:(0,o.k6)(()=>[(0,o.bF)(p)]),_:1}),l[2]||(l[2]=(0,o.eW)(" 中文 "))]),_:1,__:[2]})]),_:1},8,["onCommand"])]),(0,o.Lk)("div",s,[(0,o.Lk)("div",u,[(0,o.Lk)("h1",null,(0,n.v_)(e.$t("login.title")),1)]),(0,o.bF)(F,{ref:"loginForm",model:g.formData,rules:g.rules,class:"login-form",onSubmit:(0,r.D$)(g.handleLogin,["prevent"])},{default:(0,o.k6)(()=>[(0,o.bF)(v,{prop:"username"},{default:(0,o.k6)(()=>[(0,o.bF)(w,{modelValue:g.formData.username,"onUpdate:modelValue":l[0]||(l[0]=e=>g.formData.username=e),placeholder:e.$t("login.username"),"prefix-icon":"User",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),(0,o.bF)(v,{prop:"password"},{default:(0,o.k6)(()=>[(0,o.bF)(w,{modelValue:g.formData.password,"onUpdate:modelValue":l[1]||(l[1]=e=>g.formData.password=e),type:"password",placeholder:e.$t("login.password"),"prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)(()=>[(0,o.bF)(f,{type:"primary",size:"large",class:"login-button",loading:g.loading,onClick:g.handleLogin},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.login")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules","onSubmit"]),(0,o.Lk)("div",i,[(0,o.bF)(L,{to:"/register",class:"register-link"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.register")),1)]),_:1})])])])}var c=a(953),m=a(6278),p=a(5220),b=a(163),f=a(8548),k={name:"Login",components:{Globe:f.Globe},setup(){const e=(0,m.Pj)(),l=(0,p.rd)(),a=(0,c.KR)(null),n=(0,c.Kh)({username:"",password:""}),r=(0,c.KR)(!1),t=(0,o.EW)(()=>e.getters["auth/currentLanguage"]),d={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},s=async()=>{try{await a.value.validate(),r.value=!0,await e.dispatch("auth/login",n),b.nk.success("登录成功"),l.push("/dashboard")}catch(o){console.error("登录失败:",o)}finally{r.value=!1}},u=l=>{e.dispatch("auth/setLanguage",l),window.location.reload()};return{loginForm:a,formData:n,loading:r,rules:d,currentLanguage:t,handleLogin:s,changeLanguage:u,Globe:f.Globe}}},h=a(6262);const _=(0,h.A)(k,[["render",g],["__scopeId","data-v-b6e11e74"]]);var w=_}}]);
//# sourceMappingURL=148.f64372ad.js.map