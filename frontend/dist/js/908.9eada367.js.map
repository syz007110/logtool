{"version":3,"file":"js/908.9eada367.js","mappings":"0MACOA,MAAM,uB,GAuDAA,MAAM,e,GAINA,MAAM,gB,4gBA3DjB,QA+FM,MA/FN,EA+FM,EA7FJ,QA+CW,GA/CDC,MAAM,QAAQD,MAAM,W,kBAC5B,IAEM,C,aAFN,QAEM,OAFDA,MAAM,kBAAgB,EACzB,QAAgB,UAAZ,a,KAGN,QAyCU,GAxCP,iBAAgBE,EAAAA,OAAOC,KACxBH,MAAM,eACNI,OAAA,GACA,mBAAiB,UACjB,aAAW,UACX,oBAAkB,W,kBAElB,IAGe,EAHf,QAGe,GAHDC,MAAM,0BAAwB,C,iBAC1C,IAA+B,EAA/B,QAA+B,Q,iBAAtB,IAAY,EAAZ,QAAY,K,OACrB,QAAuC,qBAA9BC,EAAAA,GAAG,mBAAD,K,OAGb,QAGe,GAHDD,MAAM,mBAAiB,C,iBACnC,IAA6B,EAA7B,QAA6B,Q,iBAApB,IAAU,EAAV,QAAU,K,OACnB,QAAiC,qBAAxBC,EAAAA,GAAG,aAAD,K,OAGb,QAGe,GAHDD,MAAM,sBAAoB,C,iBACtC,IAA2B,EAA3B,QAA2B,Q,iBAAlB,IAAQ,EAAR,QAAQ,K,OACjB,QAAoC,qBAA3BC,EAAAA,GAAG,gBAAD,K,OAGb,QAGe,GAHDD,MAAM,sBAAoB,C,iBACtC,IAA4B,EAA5B,QAA4B,Q,iBAAnB,IAAS,EAAT,QAAS,K,OAClB,QAAoC,qBAA3BC,EAAAA,GAAG,gBAAD,K,MAIG,EAAO,U,WAAvB,QAWW,eAVT,QAAc,IACd,QAGe,GAHDD,MAAM,oBAAkB,C,iBACpC,IAA6B,EAA7B,QAA6B,Q,iBAApB,IAAU,EAAV,QAAU,K,mBACnB,QAAiB,YAAX,QAAI,M,cAGZ,QAGe,GAHDA,MAAM,oBAAkB,C,iBACpC,IAA8B,EAA9B,QAA8B,Q,iBAArB,IAAW,EAAX,QAAW,K,mBACpB,QAAiB,YAAX,QAAI,M,gFAOlB,QA0Ce,GA1CDL,MAAM,kBAAgB,C,iBAElC,IAkCY,EAlCZ,QAkCY,GAlCDA,MAAM,UAAQ,C,iBACvB,IAEM,EAFN,QAEM,MAFN,EAEM,EADJ,QAA6B,mBAAtB,EAAAO,gBAAY,MAGrB,QA4BM,MA5BN,EA4BM,EA1BJ,QAWc,GAXA,UAAS,EAAAC,gBAAc,CAKxBC,UAAQ,QACjB,IAGmB,EAHnB,QAGmB,Q,iBAFjB,IAAuD,EAAvD,QAAuD,GAArCC,QAAQ,SAAO,C,iBAAC,IAAE,c,QAAF,S,cAClC,QAA4D,GAA1CA,QAAQ,SAAO,C,iBAAC,IAAO,c,QAAP,c,wCAPtC,IAGY,EAHZ,QAGY,GAHDC,KAAK,QAAM,C,iBACpB,IAA4B,EAA5B,QAA4B,Q,iBAAnB,IAAS,EAAT,QAAS,K,eAAU,KAC5B,QAAuB,UAApB,EAAAC,gBAA8B,KAAO,WAAtB,K,+BAWtB,QAWc,GAXA,UAAS,EAAAC,mBAAiB,CAK3BJ,UAAQ,QACjB,IAGmB,EAHnB,QAGmB,Q,iBAFjB,IAA2D,EAA3D,QAA2D,GAAzCC,QAAQ,WAAS,C,iBAAC,IAAI,c,QAAJ,W,cACpC,QAAkE,GAAhDA,QAAQ,SAASI,QAAA,I,kBAAQ,IAAI,c,QAAJ,W,wCAP/C,IAGY,EAHZ,QAGY,GAHDH,KAAK,QAAM,C,iBACpB,IAA2B,EAA3B,QAA2B,Q,iBAAlB,IAAQ,EAAR,QAAQ,K,eAAU,KAC3B,QAAG,EAAAI,aAAaC,UAAQ,K,yCAahC,QAEU,GAFDhB,MAAM,gBAAc,C,iBAC3B,IAAe,EAAf,QAAe,K,kDAYvB,GACEiB,KAAM,YACN,KAAAC,GACE,MAAMC,GAAQ,UACRf,GAAS,UACTgB,GAAQ,UAERL,GAAc,QAAS,IAAMI,EAAME,QAAQN,aAC3CH,GAAkB,QAAS,IAAMO,EAAME,QAAQT,iBAC/CU,GAAU,QAAS,IAAiC,UAA3BH,EAAME,QAAQE,UAEvChB,EAAe,KACnB,MAAMiB,EAAW,CACf,yBAA0B,QAC1B,kBAAmB,OACnB,qBAAsB,OACtB,qBAAsB,OACtB,mBAAoB,OACpB,mBAAoB,QAEtB,OAAOA,EAASJ,EAAMjB,OAAS,MAG3BK,EAAkBiB,IACtBN,EAAMO,SAAS,mBAAoBD,IAG/BZ,EAAoBc,MAAOjB,IAC/B,GAAgB,WAAZA,EACF,UACQ,IAAakB,QAAQ,YAAa,KAAM,CAC5CC,kBAAmB,KACnBC,iBAAkB,KAClBnB,KAAM,YAERQ,EAAMO,SAAS,eACftB,EAAO2B,KAAK,SACd,CAAE,MAEF,KACqB,YAAZrB,GACTN,EAAO2B,KAAK,uBAIhB,MAAO,CACLhB,cACAH,kBACAU,UACAf,eACAC,iBACAK,oBAEJ,G,UCvJF,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://logtool-frontend/./src/views/Dashboard.vue","webpack://logtool-frontend/./src/views/Dashboard.vue?040e"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <!-- 侧边栏 -->\r\n    <el-aside width=\"250px\" class=\"sidebar\">\r\n      <div class=\"sidebar-header\">\r\n        <h2>LogTool</h2>\r\n      </div>\r\n      \r\n      <el-menu\r\n        :default-active=\"$route.path\"\r\n        class=\"sidebar-menu\"\r\n        router\r\n        background-color=\"#304156\"\r\n        text-color=\"#bfcbd9\"\r\n        active-text-color=\"#409eff\"\r\n      >\r\n        <el-menu-item index=\"/dashboard/error-codes\">\r\n          <el-icon><Document /></el-icon>\r\n          <span>{{ $t('nav.errorCodes') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/dashboard/logs\">\r\n          <el-icon><Upload /></el-icon>\r\n          <span>{{ $t('nav.logs') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/dashboard/account\">\r\n          <el-icon><User /></el-icon>\r\n          <span>{{ $t('nav.account') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/dashboard/history\">\r\n          <el-icon><Clock /></el-icon>\r\n          <span>{{ $t('nav.history') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <!-- 管理员菜单 -->\r\n        <template v-if=\"isAdmin\">\r\n          <el-divider />\r\n          <el-menu-item index=\"/dashboard/users\">\r\n            <el-icon><Avatar /></el-icon>\r\n            <span>用户管理</span>\r\n          </el-menu-item>\r\n          \r\n          <el-menu-item index=\"/dashboard/roles\">\r\n            <el-icon><Setting /></el-icon>\r\n            <span>角色管理</span>\r\n          </el-menu-item>\r\n        </template>\r\n      </el-menu>\r\n    </el-aside>\r\n    \r\n    <!-- 主内容区域 -->\r\n    <el-container class=\"main-container\">\r\n      <!-- 顶部导航栏 -->\r\n      <el-header class=\"header\">\r\n        <div class=\"header-left\">\r\n          <h3>{{ getPageTitle() }}</h3>\r\n        </div>\r\n        \r\n        <div class=\"header-right\">\r\n          <!-- 语言切换 -->\r\n          <el-dropdown @command=\"changeLanguage\">\r\n            <el-button type=\"text\">\r\n              <el-icon><Globe /></el-icon>\r\n              {{ currentLanguage === 'zh-CN' ? '中文' : 'English' }}\r\n            </el-button>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"zh-CN\">中文</el-dropdown-item>\r\n                <el-dropdown-item command=\"en-US\">English</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n          \r\n          <!-- 用户菜单 -->\r\n          <el-dropdown @command=\"handleUserCommand\">\r\n            <el-button type=\"text\">\r\n              <el-icon><User /></el-icon>\r\n              {{ currentUser?.username }}\r\n            </el-button>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"profile\">个人信息</el-dropdown-item>\r\n                <el-dropdown-item command=\"logout\" divided>退出登录</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n      \r\n      <!-- 内容区域 -->\r\n      <el-main class=\"main-content\">\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessageBox } from 'element-plus'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    \r\n    const currentUser = computed(() => store.getters.currentUser)\r\n    const currentLanguage = computed(() => store.getters.currentLanguage)\r\n    const isAdmin = computed(() => store.getters.userRole === 'admin')\r\n    \r\n    const getPageTitle = () => {\r\n      const routeMap = {\r\n        '/dashboard/error-codes': '故障码管理',\r\n        '/dashboard/logs': '日志解析',\r\n        '/dashboard/account': '账户管理',\r\n        '/dashboard/history': '历史记录',\r\n        '/dashboard/users': '用户管理',\r\n        '/dashboard/roles': '角色管理'\r\n      }\r\n      return routeMap[route.path] || '首页'\r\n    }\r\n    \r\n    const changeLanguage = (language) => {\r\n      store.dispatch('auth/setLanguage', language)\r\n    }\r\n    \r\n    const handleUserCommand = async (command) => {\r\n      if (command === 'logout') {\r\n        try {\r\n          await ElMessageBox.confirm('确定要退出登录吗？', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n          store.dispatch('auth/logout')\r\n          router.push('/login')\r\n        } catch {\r\n          // 用户取消\r\n        }\r\n      } else if (command === 'profile') {\r\n        router.push('/dashboard/account')\r\n      }\r\n    }\r\n    \r\n    return {\r\n      currentUser,\r\n      currentLanguage,\r\n      isAdmin,\r\n      getPageTitle,\r\n      changeLanguage,\r\n      handleUserCommand\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  height: 100vh;\r\n  display: flex;\r\n}\r\n\r\n.sidebar {\r\n  background-color: #304156;\r\n  color: white;\r\n}\r\n\r\n.sidebar-header {\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-bottom: 1px solid #435266;\r\n}\r\n\r\n.sidebar-header h2 {\r\n  color: white;\r\n  margin: 0;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n}\r\n\r\n.sidebar-menu {\r\n  border: none;\r\n}\r\n\r\n.main-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header {\r\n  background: white;\r\n  border-bottom: 1px solid #e6e6e6;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 20px;\r\n}\r\n\r\n.header-left h3 {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.main-content {\r\n  background: #f5f5f5;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.el-divider {\r\n  margin: 8px 0;\r\n  border-color: #435266;\r\n}\r\n</style> ","import { render } from \"./Dashboard.vue?vue&type=template&id=a7cfa036&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=a7cfa036&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a7cfa036\"]])\n\nexport default __exports__"],"names":["class","width","$route","path","router","index","$t","getPageTitle","changeLanguage","dropdown","command","type","currentLanguage","handleUserCommand","divided","currentUser","username","name","setup","store","route","getters","isAdmin","userRole","routeMap","language","dispatch","async","confirm","confirmButtonText","cancelButtonText","push","__exports__","render"],"sourceRoot":""}