"use strict";(self["webpackChunklogtool_frontend"]=self["webpackChunklogtool_frontend"]||[]).push([[505],{5505:function(e,a,l){l.r(a),l.d(a,{default:function(){return _}});var o=l(641),n=l(33),r=l(3751);const s={class:"login-container"},t={class:"login-box"},i={class:"login-header"},u={class:"language-switch"},g={class:"login-footer"};function d(e,a,l,d,c,p){const m=(0,o.g2)("el-button"),f=(0,o.g2)("el-input"),h=(0,o.g2)("el-form-item"),k=(0,o.g2)("el-form"),b=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",t,[(0,o.Lk)("div",i,[(0,o.Lk)("h1",null,(0,n.v_)(e.$t("login.title")),1),(0,o.Lk)("div",u,[(0,o.bF)(m,{type:"zh-CN"===d.currentLanguage?"primary":"default",size:"small",onClick:a[0]||(a[0]=e=>d.changeLanguage("zh-CN"))},{default:(0,o.k6)(()=>a[4]||(a[4]=[(0,o.eW)(" 中文 ")])),_:1,__:[4]},8,["type"]),(0,o.bF)(m,{type:"en-US"===d.currentLanguage?"primary":"default",size:"small",onClick:a[1]||(a[1]=e=>d.changeLanguage("en-US"))},{default:(0,o.k6)(()=>a[5]||(a[5]=[(0,o.eW)(" English ")])),_:1,__:[5]},8,["type"])])]),(0,o.bF)(k,{ref:"loginForm",model:d.formData,rules:d.rules,class:"login-form",onSubmit:(0,r.D$)(d.handleLogin,["prevent"])},{default:(0,o.k6)(()=>[(0,o.bF)(h,{prop:"username"},{default:(0,o.k6)(()=>[(0,o.bF)(f,{modelValue:d.loginForm.username,"onUpdate:modelValue":a[2]||(a[2]=e=>d.loginForm.username=e),placeholder:e.$t("login.username"),"prefix-icon":"User",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),(0,o.bF)(h,{prop:"password"},{default:(0,o.k6)(()=>[(0,o.bF)(f,{modelValue:d.loginForm.password,"onUpdate:modelValue":a[3]||(a[3]=e=>d.loginForm.password=e),type:"password",placeholder:e.$t("login.password"),"prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),(0,o.bF)(h,null,{default:(0,o.k6)(()=>[(0,o.bF)(m,{type:"primary",size:"large",class:"login-button",loading:d.loading,onClick:d.handleLogin},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.login")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules","onSubmit"]),(0,o.Lk)("div",g,[(0,o.bF)(b,{to:"/register",class:"register-link"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.register")),1)]),_:1}),(0,o.bF)(b,{to:"/forgot-password",class:"forgot-link"},{default:(0,o.k6)(()=>[(0,o.eW)((0,n.v_)(e.$t("login.forgotPassword")),1)]),_:1})])])])}var c=l(953),p=l(6278),m=l(5220),f=l(163),h={name:"Login",setup(){const e=(0,p.Pj)(),a=(0,m.rd)(),l=(0,c.KR)(null),n=(0,c.Kh)({username:"",password:""}),r=(0,c.KR)(!1),s=(0,o.EW)(()=>e.getters.currentLanguage),t={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},i=async()=>{try{await l.value.validate(),r.value=!0,await e.dispatch("auth/login",n),f.nk.success("登录成功"),a.push("/dashboard")}catch(o){f.nk.error(o.response?.data?.message||"登录失败")}finally{r.value=!1}},u=a=>{e.dispatch("auth/setLanguage",a)};return{loginForm:l,formData:n,loading:r,rules:t,currentLanguage:s,handleLogin:i,changeLanguage:u}}},k=l(6262);const b=(0,k.A)(h,[["render",d],["__scopeId","data-v-f391e932"]]);var _=b}}]);
//# sourceMappingURL=505.59c946be.js.map