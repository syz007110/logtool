{"version":3,"file":"js/348.f2a356dc.js","mappings":"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","sources":["webpack://logtool-frontend/./src/views/Dashboard.vue","webpack://logtool-frontend/./src/views/Dashboard.vue?040e"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <!-- 侧边栏 -->\n    <el-aside v-if=\"!$route.meta.noSidebar\" width=\"250px\" class=\"sidebar\">\n      <div class=\"sidebar-header\">\n        <h2>LogTool</h2>\n      </div>\n      \n      <el-menu\n        :default-active=\"$route.path\"\n        class=\"sidebar-menu\"\n        router\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409eff\"\n      >\n        <el-menu-item index=\"/dashboard/error-codes\">\n          <el-icon><Document /></el-icon>\n          <span>{{ $t('nav.errorCodes') }}</span>\n        </el-menu-item>\n        \n        <el-menu-item index=\"/dashboard/i18n-error-codes\">\n          <el-icon><Globe /></el-icon>\n          <span>{{ $t('i18nErrorCodes.title') }}</span>\n        </el-menu-item>\n        \n        <el-menu-item index=\"/dashboard/logs\">\n          <el-icon><Upload /></el-icon>\n          <span>{{ $t('nav.logs') }}</span>\n        </el-menu-item>\n        \n        <el-menu-item index=\"/dashboard/account\">\n          <el-icon><User /></el-icon>\n          <span>{{ $t('account.title') }}</span>\n        </el-menu-item>\n        \n        <!-- 只有管理员可以看到历史记录 -->\n        <el-menu-item v-if=\"isAdmin\" index=\"/dashboard/history\">\n          <el-icon><Clock /></el-icon>\n          <span>{{ $t('nav.history') }}</span>\n        </el-menu-item>\n        \n        <!-- 管理员菜单 -->\n        <template v-if=\"isAdmin\">\n          <el-divider />\n          <el-menu-item index=\"/dashboard/users\">\n            <el-icon><Avatar /></el-icon>\n            <span>{{ $t('users.title') }}</span>\n          </el-menu-item>\n          \n          <el-menu-item index=\"/dashboard/roles\">\n            <el-icon><Setting /></el-icon>\n            <span>{{ $t('roles.title') }}</span>\n          </el-menu-item>\n        </template>\n      </el-menu>\n    </el-aside>\n    \n    <!-- 主内容区域 -->\n    <el-container class=\"main-container\">\n      <!-- 顶部导航栏 -->\n      <el-header v-if=\"!$route.meta.noSidebar\" class=\"header\">\n        <div class=\"header-left\">\n          <h3>{{ $t(getPageTitleKey) }}</h3>\n        </div>\n        \n        <div class=\"header-right\">\n          <!-- 语言切换（暂时只显示中文） -->\n          <el-dropdown @command=\"changeLanguage\" disabled>\n            <el-button type=\"text\" disabled>\n              <el-icon><Globe /></el-icon>\n              中文\n            </el-button>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item command=\"zh-CN\">中文</el-dropdown-item>\n                <el-dropdown-item command=\"en-US\" disabled>English (暂不可用)</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n          <!-- 用户名显示 -->\n          <span v-if=\"currentUser && currentUser.username\" class=\"header-username\">{{ currentUser.username }}</span>\n          <!-- 用户菜单 -->\n          <el-dropdown @command=\"handleUserCommand\">\n            <el-button type=\"text\">\n              <el-icon><User /></el-icon>\n            </el-button>\n            <template #dropdown>\n              <el-dropdown-menu>\n                <el-dropdown-item command=\"profile\">{{ $t('nav.profile') }}</el-dropdown-item>\n                <el-dropdown-item command=\"logout\" divided>{{ $t('nav.logout') }}</el-dropdown-item>\n              </el-dropdown-menu>\n            </template>\n          </el-dropdown>\n        </div>\n      </el-header>\n      \n      <!-- 内容区域 -->\n      <el-main class=\"main-content\">\n        <router-view />\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ElMessageBox } from 'element-plus'\nimport { Globe, Document, Upload, User, Clock, Avatar, Setting } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'Dashboard',\n  components: { Globe, Document, Upload, User, Clock, Avatar, Setting },\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const route = useRoute()\n    \n    const currentUser = computed(() => store.getters['auth/currentUser'])\n    const currentLanguage = computed(() => store.getters['auth/currentLanguage'])\n    const isAdmin = computed(() => store.getters['auth/userRole'] === 'admin')\n    \n    const getPageTitleKey = computed(() => {\n      const routeMap = {\n        '/dashboard/error-codes': 'errorCodes.title',\n        '/dashboard/i18n-error-codes': 'i18nErrorCodes.title',\n        '/dashboard/logs': 'logs.title',\n        '/dashboard/account': 'account.title',\n        '/dashboard/history': 'history.title',\n        '/dashboard/users': 'users.title',\n        '/dashboard/roles': 'roles.title'\n      }\n      return routeMap[route.path] || 'nav.dashboard'\n    })\n    \n    const changeLanguage = (language) => {\n      store.dispatch('auth/setLanguage', language)\n      window.location.reload()\n    }\n    \n    const handleUserCommand = async (command) => {\n      if (command === 'logout') {\n        try {\n          await ElMessageBox.confirm('确定要退出登录吗？', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          })\n          store.dispatch('auth/logout')\n          router.push('/login')\n        } catch {\n          // 用户取消\n        }\n      } else if (command === 'profile') {\n        router.push('/dashboard/account')\n      }\n    }\n    \n    return {\n      currentUser,\n      currentLanguage,\n      isAdmin,\n      getPageTitleKey,\n      changeLanguage,\n      handleUserCommand\n    }\n  }\n}\n</script>\n\n<style scoped>\n.dashboard-container {\n  height: 100vh;\n  display: flex;\n}\n\n.sidebar {\n  background-color: #304156;\n  color: white;\n}\n\n.sidebar-header {\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid #435266;\n}\n\n.sidebar-header h2 {\n  color: white;\n  margin: 0;\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.sidebar-menu {\n  border: none;\n}\n\n.main-container {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background: white;\n  border-bottom: 1px solid #e6e6e6;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 20px;\n}\n\n.header-left h3 {\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 20px;\n}\n\n.header-right .el-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  line-height: 32px;\n  padding: 0 12px;\n}\n\n.main-content {\n  background: #f5f5f5;\n  padding: 20px;\n  overflow-y: auto;\n}\n\n.el-divider {\n  margin: 8px 0;\n  border-color: #435266;\n}\n\n.header-username {\n  margin: 0 12px;\n  font-weight: 500;\n  color: #333;\n  font-size: 15px;\n  letter-spacing: 1px;\n}\n</style> ","import { render } from \"./Dashboard.vue?vue&type=template&id=c465dfe6&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=c465dfe6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c465dfe6\"]])\n\nexport default __exports__"],"names":["class","$route","meta","noSidebar","width","path","router","index","$t","getPageTitleKey","changeLanguage","disabled","dropdown","command","type","currentUser","username","handleUserCommand","divided","name","components","Globe","Document","Upload","User","Clock","Avatar","Setting","setup","store","route","getters","currentLanguage","isAdmin","routeMap","language","dispatch","window","location","reload","async","confirm","confirmButtonText","cancelButtonText","push","__exports__","render"],"sourceRoot":""}