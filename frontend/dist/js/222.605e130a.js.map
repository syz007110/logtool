{"version":3,"file":"js/222.605e130a.js","mappings":"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","sources":["webpack://logtool-frontend/./src/views/LogDetail.vue","webpack://logtool-frontend/./src/views/LogDetail.vue?58d3"],"sourcesContent":["<template>\n  <div class=\"log-detail-container\">\n    <!-- 加载进度条 -->\n    <el-card v-if=\"loading\" class=\"loading-card\">\n      <div class=\"loading-content\">\n        <el-progress \n          :percentage=\"loadingProgress\" \n          :status=\"loadingProgress >= 100 ? 'success' : ''\"\n          :stroke-width=\"8\"\n        />\n        <p class=\"loading-text\">正在加载日志内容... {{ loadingProgress }}%</p>\n      </div>\n    </el-card>\n\n    <el-card class=\"detail-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <div class=\"header-left\">\n            <el-button @click=\"goBack\" icon=\"ArrowLeft\" size=\"small\">\n              返回\n            </el-button>\n            <span class=\"title\">日志详情</span>\n          </div>\n          <div class=\"header-right\">\n            <el-tag :type=\"getStatusType(logInfo.status)\" size=\"small\">\n              {{ getStatusText(logInfo.status) }}\n            </el-tag>\n          </div>\n        </div>\n      </template>\n\n      <!-- 日志基本信息 -->\n      <div class=\"log-info\">\n        <el-descriptions :column=\"3\" border>\n          <el-descriptions-item label=\"文件名\">{{ logInfo.original_name }}</el-descriptions-item>\n          <el-descriptions-item label=\"设备编号\">{{ logInfo.device_id }}</el-descriptions-item>\n          <el-descriptions-item label=\"文件大小\">{{ formatFileSize(logInfo.size) }}</el-descriptions-item>\n          <el-descriptions-item label=\"上传时间\">{{ formatDate(logInfo.upload_time) }}</el-descriptions-item>\n          <el-descriptions-item label=\"解析时间\">{{ formatDate(logInfo.parse_time) }}</el-descriptions-item>\n          <el-descriptions-item label=\"上传用户ID\">{{ logInfo.uploader_id }}</el-descriptions-item>\n        </el-descriptions>\n      </div>\n\n      <!-- 日志条目表格 -->\n      <div class=\"entries-section\">\n        <div class=\"section-header\">\n          <h3>日志条目 ({{ logEntries.length }})</h3>\n          <div class=\"header-actions\">\n            <el-input\n              v-model=\"searchKeyword\"\n              placeholder=\"搜索释义内容或故障码\"\n              style=\"width: 300px; margin-right: 10px;\"\n              clearable\n              @input=\"filterEntries\"\n            >\n              <template #prefix>\n                <el-icon><Search /></el-icon>\n              </template>\n            </el-input>\n            <el-button @click=\"exportToCSV\" type=\"success\" size=\"small\">\n              <el-icon><Download /></el-icon>\n              导出CSV\n            </el-button>\n            <el-button @click=\"goToSurgeryAnalysis\" type=\"primary\" size=\"small\" style=\"margin-left: 10px;\">\n              <el-icon><DataAnalysis /></el-icon>\n              手术统计\n            </el-button>\n          </div>\n        </div>\n\n        <el-table \n          :data=\"paginatedEntries\" \n          style=\"width: 100%\"\n          v-loading=\"loading\"\n          height=\"600\"\n          stripe\n        >\n          <el-table-column prop=\"timestamp\" label=\"时间戳\" width=\"180\" sortable>\n            <template #default=\"{ row }\">\n              {{ formatTimestamp(row.timestamp) }}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"error_code\" label=\"故障码\" width=\"120\" sortable />\n          <el-table-column prop=\"param1\" label=\"参数1\" width=\"100\" />\n          <el-table-column prop=\"param2\" label=\"参数2\" width=\"100\" />\n          <el-table-column prop=\"param3\" label=\"参数3\" width=\"100\" />\n          <el-table-column prop=\"param4\" label=\"参数4\" width=\"100\" />\n          <el-table-column prop=\"explanation\" label=\"释义\" min-width=\"300\" show-overflow-tooltip />\n        </el-table>\n\n        <!-- 分页 -->\n        <div class=\"pagination-wrapper\">\n          <el-pagination\n            :current-page=\"currentPage\"\n            :page-size=\"pageSize\"\n            :page-sizes=\"[50, 100, 200, 500]\"\n            :total=\"filteredEntries.length\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n          />\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\nimport { ElMessage } from 'element-plus'\nimport { Search, Download, ArrowLeft, DataAnalysis } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'LogDetail',\n  components: {\n    Search,\n    Download,\n    ArrowLeft,\n    DataAnalysis\n  },\n  setup() {\n    const store = useStore()\n    const route = useRoute()\n    const router = useRouter()\n    \n    const logId = route.params.id\n    const loading = ref(false)\n    const loadingProgress = ref(0)\n    const logInfo = ref({})\n    const logEntries = ref([])\n    const searchKeyword = ref('')\n    const currentPage = ref(1)\n    const pageSize = ref(100)\n\n    // 过滤后的条目\n    const filteredEntries = computed(() => {\n      if (!searchKeyword.value) {\n        return logEntries.value\n      }\n      return logEntries.value.filter(entry => \n        entry.explanation.toLowerCase().includes(searchKeyword.value.toLowerCase()) ||\n        entry.error_code.toLowerCase().includes(searchKeyword.value.toLowerCase())\n      )\n    })\n\n    // 分页后的条目\n    const paginatedEntries = computed(() => {\n      const start = (currentPage.value - 1) * pageSize.value\n      const end = start + pageSize.value\n      return filteredEntries.value.slice(start, end)\n    })\n\n    // 加载日志信息\n    const loadLogInfo = async () => {\n      try {\n        loading.value = true\n        const response = await store.dispatch('logs/fetchLogs', { page: 1, limit: 1000 })\n        const log = response.data.logs.find(l => l.id == logId)\n        if (log) {\n          logInfo.value = log\n        } else {\n          ElMessage.error('日志不存在')\n          goBack()\n        }\n      } catch (error) {\n        ElMessage.error('加载日志信息失败')\n      } finally {\n        loading.value = false\n      }\n    }\n\n    // 加载日志条目\n    const loadLogEntries = async () => {\n      try {\n        loading.value = true\n        loadingProgress.value = 0\n        \n        // 模拟加载进度\n        const progressInterval = setInterval(() => {\n          if (loadingProgress.value < 90) {\n            loadingProgress.value += 10\n          }\n        }, 100)\n        \n        const response = await store.dispatch('logs/fetchLogEntries', logId)\n        logEntries.value = response.data?.entries || response.entries || []\n        \n        // 完成加载\n        clearInterval(progressInterval)\n        loadingProgress.value = 100\n        \n        // 延迟隐藏进度条\n        setTimeout(() => {\n          loading.value = false\n          loadingProgress.value = 0\n        }, 500)\n        \n      } catch (error) {\n        ElMessage.error('加载日志条目失败')\n        loading.value = false\n        loadingProgress.value = 0\n      }\n    }\n\n    // 过滤条目\n    const filterEntries = () => {\n      currentPage.value = 1\n    }\n\n    // 导出CSV\n    const exportToCSV = () => {\n      const headers = ['时间戳', '故障码', '参数1', '参数2', '参数3', '参数4', '释义']\n      const csvContent = [\n        headers.join(','),\n        ...filteredEntries.value.map(entry => [\n          formatTimestamp(entry.timestamp),\n          entry.error_code,\n          entry.param1,\n          entry.param2,\n          entry.param3,\n          entry.param4,\n          `\"${entry.explanation.replace(/\"/g, '\"\"')}\"`\n        ].join(','))\n      ].join('\\n')\n\n      const blob = new Blob(['\\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' })\n      const link = document.createElement('a')\n      link.href = URL.createObjectURL(blob)\n      link.download = `${logInfo.value.original_name}_entries.csv`\n      link.click()\n      URL.revokeObjectURL(link.href)\n      \n      ElMessage.success('CSV文件导出成功')\n    }\n\n    // 分页处理\n    const handleSizeChange = (size) => {\n      pageSize.value = size\n      currentPage.value = 1\n    }\n\n    const handleCurrentChange = (page) => {\n      currentPage.value = page\n    }\n\n    // 返回上一页\n    const goBack = () => {\n      router.go(-1)\n    }\n\n    // 跳转到手术统计页面\nconst goToSurgeryAnalysis = () => {\n  // 准备日志条目数据\n  const entriesData = {\n    logId: logId,\n    logName: logInfo.value.original_name,\n    entries: logEntries.value,\n    totalCount: logEntries.value.length,\n    timeRange: {\n      start: logEntries.value.length > 0 ? logEntries.value[0].timestamp : null,\n      end: logEntries.value.length > 0 ? logEntries.value[logEntries.value.length - 1].timestamp : null\n    }\n  }\n  \n  // 压缩数据以减少传输大小\n  const compressedData = compressLogEntries(entriesData.entries)\n  \n  // 存储到sessionStorage\n  sessionStorage.setItem('surgeryAnalysisData', JSON.stringify({\n    ...entriesData,\n    entries: compressedData,\n    compressed: true,\n    timestamp: Date.now()\n  }))\n  \n  // 设置自动分析标志\n  sessionStorage.setItem('autoAnalyze', 'true')\n  \n  // 跳转到手术统计页面\n  router.push('/surgery-statistics')\n}\n\n// 压缩日志条目数据\nconst compressLogEntries = (entries) => {\n  return entries.map(entry => ({\n    t: entry.timestamp,\n    e: entry.error_code,\n    p1: entry.param1,\n    p2: entry.param2,\n    p3: entry.param3,\n    p4: entry.param4,\n    exp: entry.explanation,\n    ln: entry.log_name || logInfo.value.original_name\n  }))\n}\n\n// 解压缩日志条目数据\nconst decompressLogEntries = (compressedEntries) => {\n  return compressedEntries.map(entry => ({\n    timestamp: entry.t,\n    error_code: entry.e,\n    param1: entry.p1,\n    param2: entry.p2,\n    param3: entry.p3,\n    param4: entry.p4,\n    explanation: entry.exp,\n    log_name: entry.ln\n  }))\n}\n\n    // 格式化函数\n    const formatFileSize = (bytes) => {\n      if (bytes === 0) return '0 B'\n      const k = 1024\n      const sizes = ['B', 'KB', 'MB', 'GB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n    }\n\n    const formatDate = (dateString) => {\n      if (!dateString) return '-'\n      return new Date(dateString).toLocaleString('zh-CN')\n    }\n\n    const formatTimestamp = (timestamp) => {\n      if (!timestamp) return '-'\n      // 将时间戳格式化为 YYYY-MM-DD HH:mm:ss 格式\n      const date = new Date(timestamp)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      const seconds = String(date.getSeconds()).padStart(2, '0')\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\n    }\n\n    const getStatusType = (status) => {\n      const typeMap = {\n        uploaded: 'warning',\n        parsed: 'success',\n        failed: 'danger'\n      }\n      return typeMap[status] || 'info'\n    }\n\n    const getStatusText = (status) => {\n      const textMap = {\n        uploaded: '已上传',\n        parsed: '已解析',\n        failed: '解析失败'\n      }\n      return textMap[status] || '未知'\n    }\n\n    onMounted(() => {\n      loadLogInfo()\n      loadLogEntries()\n    })\n\n    return {\n      loading,\n      loadingProgress,\n      logInfo,\n      logEntries,\n      searchKeyword,\n      currentPage,\n      pageSize,\n      filteredEntries,\n      paginatedEntries,\n      loadLogInfo,\n      loadLogEntries,\n      filterEntries,\n      exportToCSV,\n      handleSizeChange,\n      handleCurrentChange,\n      goBack,\n      goToSurgeryAnalysis,\n      formatFileSize,\n      formatDate,\n      formatTimestamp,\n      getStatusType,\n      getStatusText\n    }\n  }\n}\n</script>\n\n<style scoped>\n.log-detail-container {\n  padding: 20px;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.loading-card {\n  margin-bottom: 20px;\n}\n\n.loading-content {\n  text-align: center;\n  padding: 20px;\n}\n\n.loading-text {\n  margin-top: 10px;\n  color: #606266;\n  font-size: 14px;\n}\n\n.detail-card {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.title {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.log-info {\n  margin-bottom: 20px;\n}\n\n.entries-section {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.section-header h3 {\n  margin: 0;\n  color: #303133;\n}\n\n.header-actions {\n  display: flex;\n  align-items: center;\n}\n\n.pagination-wrapper {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n  padding: 10px 0;\n}\n</style> ","import { render } from \"./LogDetail.vue?vue&type=template&id=da49d4b8&scoped=true\"\nimport script from \"./LogDetail.vue?vue&type=script&lang=js\"\nexport * from \"./LogDetail.vue?vue&type=script&lang=js\"\n\nimport \"./LogDetail.vue?vue&type=style&index=0&id=da49d4b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-da49d4b8\"]])\n\nexport default __exports__"],"names":["class","percentage","loadingProgress","status","header","goBack","icon","size","type","getStatusType","logInfo","getStatusText","column","border","label","original_name","device_id","formatFileSize","formatDate","upload_time","parse_time","uploader_id","logEntries","length","searchKeyword","placeholder","style","clearable","filterEntries","prefix","exportToCSV","goToSurgeryAnalysis","data","paginatedEntries","height","stripe","prop","width","sortable","default","row","formatTimestamp","timestamp","loading","currentPage","pageSize","total","filteredEntries","layout","handleSizeChange","handleCurrentChange","name","components","Search","Download","ArrowLeft","DataAnalysis","setup","store","route","router","logId","params","id","value","filter","entry","explanation","toLowerCase","includes","error_code","start","end","slice","loadLogInfo","async","response","dispatch","page","limit","log","logs","find","l","error","loadLogEntries","progressInterval","setInterval","entries","clearInterval","setTimeout","headers","csvContent","join","map","param1","param2","param3","param4","replace","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","success","go","entriesData","logName","totalCount","timeRange","compressedData","compressLogEntries","sessionStorage","setItem","JSON","stringify","compressed","Date","now","push","t","e","p1","p2","p3","p4","exp","ln","log_name","bytes","k","sizes","i","Math","floor","parseFloat","pow","toFixed","dateString","toLocaleString","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","typeMap","uploaded","parsed","failed","textMap","__exports__","render"],"sourceRoot":""}