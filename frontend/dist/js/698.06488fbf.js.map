{"version":3,"file":"js/698.06488fbf.js","mappings":"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","sources":["webpack://logtool-frontend/./src/views/Dashboard.vue","webpack://logtool-frontend/./src/views/Dashboard.vue?040e"],"sourcesContent":["<template>\r\n  <div class=\"dashboard-container\">\r\n    <!-- 侧边栏 -->\r\n    <el-aside v-if=\"!$route.meta.noSidebar\" width=\"250px\" class=\"sidebar\">\r\n      <div class=\"sidebar-header\">\r\n        <h2>LogTool</h2>\r\n      </div>\r\n      \r\n      <el-menu\r\n        :default-active=\"$route.path\"\r\n        class=\"sidebar-menu\"\r\n        router\r\n        background-color=\"#304156\"\r\n        text-color=\"#bfcbd9\"\r\n        active-text-color=\"#409eff\"\r\n      >\r\n        <el-menu-item index=\"/dashboard/error-codes\">\r\n          <el-icon><Document /></el-icon>\r\n          <span>{{ $t('nav.errorCodes') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/dashboard/i18n-error-codes\">\r\n          <el-icon><Globe /></el-icon>\r\n          <span>{{ $t('i18nErrorCodes.title') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/dashboard/logs\">\r\n          <el-icon><Upload /></el-icon>\r\n          <span>{{ $t('nav.logs') }}</span>\r\n        </el-menu-item>\r\n\r\n        <el-menu-item v-if=\"isAdminOrExpert\" index=\"/dashboard/devices\">\r\n          <el-icon><Setting /></el-icon>\r\n          <span>设备管理</span>\r\n        </el-menu-item>\r\n        \r\n        <el-menu-item index=\"/dashboard/account\">\r\n          <el-icon><User /></el-icon>\r\n          <span>{{ $t('account.title') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <!-- 只有管理员可以看到历史记录 -->\r\n        <el-menu-item v-if=\"isAdmin\" index=\"/dashboard/history\">\r\n          <el-icon><Clock /></el-icon>\r\n          <span>{{ $t('nav.history') }}</span>\r\n        </el-menu-item>\r\n        \r\n        <!-- 管理员菜单 -->\r\n        <template v-if=\"isAdmin\">\r\n          <el-divider />\r\n          <el-menu-item index=\"/dashboard/users\">\r\n            <el-icon><Avatar /></el-icon>\r\n            <span>{{ $t('users.title') }}</span>\r\n          </el-menu-item>\r\n          \r\n          <el-menu-item index=\"/dashboard/roles\">\r\n            <el-icon><Setting /></el-icon>\r\n            <span>{{ $t('roles.title') }}</span>\r\n          </el-menu-item>\r\n        </template>\r\n      </el-menu>\r\n    </el-aside>\r\n    \r\n    <!-- 主内容区域 -->\r\n    <el-container class=\"main-container\">\r\n      <!-- 顶部导航栏 -->\r\n      <el-header v-if=\"!$route.meta.noSidebar\" class=\"header\">\r\n        <div class=\"header-left\">\r\n          <h3>{{ $t(getPageTitleKey) }}</h3>\r\n        </div>\r\n        \r\n        <div class=\"header-right\">\r\n          <!-- 语言切换（暂时只显示中文） -->\r\n          <el-dropdown @command=\"changeLanguage\" disabled>\r\n            <el-button type=\"text\" disabled>\r\n              <el-icon><Globe /></el-icon>\r\n              中文\r\n            </el-button>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"zh-CN\">中文</el-dropdown-item>\r\n                <el-dropdown-item command=\"en-US\" disabled>English (暂不可用)</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n          <!-- 用户名显示 -->\r\n          <span v-if=\"currentUser && currentUser.username\" class=\"header-username\">{{ currentUser.username }}</span>\r\n          <!-- 用户菜单 -->\r\n          <el-dropdown @command=\"handleUserCommand\">\r\n            <el-button type=\"text\">\r\n              <el-icon><User /></el-icon>\r\n            </el-button>\r\n            <template #dropdown>\r\n              <el-dropdown-menu>\r\n                <el-dropdown-item command=\"profile\">{{ $t('nav.profile') }}</el-dropdown-item>\r\n                <el-dropdown-item command=\"logout\" divided>{{ $t('nav.logout') }}</el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </template>\r\n          </el-dropdown>\r\n        </div>\r\n      </el-header>\r\n      \r\n      <!-- 内容区域 -->\r\n      <el-main class=\"main-content\">\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { ElMessageBox } from 'element-plus'\r\nimport { Globe, Document, Upload, User, Clock, Avatar, Setting } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  components: { Globe, Document, Upload, User, Clock, Avatar, Setting },\r\n  setup() {\r\n    const store = useStore()\r\n    const router = useRouter()\r\n    const route = useRoute()\r\n    \r\n    const currentUser = computed(() => store.getters['auth/currentUser'])\r\n    const currentLanguage = computed(() => store.getters['auth/currentLanguage'])\r\n    const isAdmin = computed(() => store.getters['auth/userRole'] === 'admin')\r\n    const isAdminOrExpert = computed(() => {\r\n      const role = store.getters['auth/userRole']\r\n      return role === 'admin' || role === 'expert'\r\n    })\r\n    \r\n    const getPageTitleKey = computed(() => {\r\n      const routeMap = {\r\n        '/dashboard/error-codes': 'errorCodes.title',\r\n        '/dashboard/i18n-error-codes': 'i18nErrorCodes.title',\r\n        '/dashboard/logs': 'logs.title',\r\n        '/dashboard/account': 'account.title',\r\n        '/dashboard/history': 'history.title',\r\n        '/dashboard/users': 'users.title',\r\n        '/dashboard/roles': 'roles.title'\r\n      }\r\n      return routeMap[route.path] || 'nav.dashboard'\r\n    })\r\n    \r\n    const changeLanguage = (language) => {\r\n      store.dispatch('auth/setLanguage', language)\r\n      window.location.reload()\r\n    }\r\n    \r\n    const handleUserCommand = async (command) => {\r\n      if (command === 'logout') {\r\n        try {\r\n          await ElMessageBox.confirm('确定要退出登录吗？', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n          store.dispatch('auth/logout')\r\n          router.push('/login')\r\n        } catch {\r\n          // 用户取消\r\n        }\r\n      } else if (command === 'profile') {\r\n        router.push('/dashboard/account')\r\n      }\r\n    }\r\n    \r\n    return {\r\n      currentUser,\r\n      currentLanguage,\r\n      isAdmin,\r\n      isAdminOrExpert,\r\n      getPageTitleKey,\r\n      changeLanguage,\r\n      handleUserCommand\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard-container {\r\n  height: 100vh;\r\n  display: flex;\r\n}\r\n\r\n.sidebar {\r\n  background-color: #304156;\r\n  color: white;\r\n}\r\n\r\n.sidebar-header {\r\n  height: 60px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-bottom: 1px solid #435266;\r\n}\r\n\r\n.sidebar-header h2 {\r\n  color: white;\r\n  margin: 0;\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n}\r\n\r\n.sidebar-menu {\r\n  border: none;\r\n}\r\n\r\n.main-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header {\r\n  background: white;\r\n  border-bottom: 1px solid #e6e6e6;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 20px;\r\n}\r\n\r\n.header-left h3 {\r\n  margin: 0;\r\n  color: #333;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n}\r\n\r\n.header-right {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n\r\n.header-right .el-button {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 32px;\r\n  line-height: 32px;\r\n  padding: 0 12px;\r\n}\r\n\r\n.main-content {\r\n  background: #f5f5f5;\r\n  padding: 20px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.el-divider {\r\n  margin: 8px 0;\r\n  border-color: #435266;\r\n}\r\n\r\n.header-username {\r\n  margin: 0 12px;\r\n  font-weight: 500;\r\n  color: #333;\r\n  font-size: 15px;\r\n  letter-spacing: 1px;\r\n}\r\n</style> ","import { render } from \"./Dashboard.vue?vue&type=template&id=6970f7fa&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=6970f7fa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6970f7fa\"]])\n\nexport default __exports__"],"names":["class","$route","meta","noSidebar","width","path","router","index","$t","getPageTitleKey","changeLanguage","disabled","dropdown","command","type","currentUser","username","handleUserCommand","divided","name","components","Globe","Document","Upload","User","Clock","Avatar","Setting","setup","store","route","getters","currentLanguage","isAdmin","isAdminOrExpert","role","routeMap","language","dispatch","window","location","reload","async","confirm","confirmButtonText","cancelButtonText","push","__exports__","render"],"sourceRoot":""}