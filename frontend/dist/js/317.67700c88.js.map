{"version":3,"file":"js/317.67700c88.js","mappings":"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","sources":["webpack://logtool-frontend/./src/views/LogAnalysis.vue","webpack://logtool-frontend/./src/views/LogAnalysis.vue?0f44"],"sourcesContent":["<template>\r\n  <div class=\"log-analysis-container\">\r\n    <el-card class=\"analysis-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <div class=\"header-left\">\r\n            <el-button @click=\"goBack\" icon=\"ArrowLeft\" size=\"small\">\r\n              返回\r\n            </el-button>\r\n            <span class=\"title\">日志分析</span>\r\n            <el-tag v-if=\"logInfo.original_name\" type=\"info\" size=\"small\">\r\n              {{ logInfo.original_name }}\r\n            </el-tag>\r\n          </div>\r\n          <div class=\"header-right\">\r\n            <el-button @click=\"exportToCSV\" type=\"success\" size=\"small\">\r\n              <el-icon><Download /></el-icon>\r\n              导出CSV\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 日志基本信息 -->\r\n      <div class=\"log-info\" v-if=\"logInfo.id\">\r\n        <el-descriptions :column=\"3\" border>\r\n          <el-descriptions-item label=\"文件名\">{{ logInfo.original_name }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"设备编号\">{{ logInfo.device_id }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"文件大小\">{{ formatFileSize(logInfo.size) }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"上传时间\">{{ formatDate(logInfo.upload_time) }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"解析时间\">{{ formatDate(logInfo.parse_time) }}</el-descriptions-item>\r\n          <el-descriptions-item label=\"上传用户ID\">{{ logInfo.uploader_id }}</el-descriptions-item>\r\n        </el-descriptions>\r\n      </div>\r\n\r\n      <!-- 搜索和筛选 -->\r\n      <div class=\"search-section\">\r\n        <el-input\r\n          v-model=\"searchKeyword\"\r\n          placeholder=\"搜索释义内容或故障码\"\r\n          style=\"width: 300px; margin-right: 15px;\"\r\n          clearable\r\n          @input=\"handleSearch\"\r\n        >\r\n          <template #prefix>\r\n            <el-icon><Search /></el-icon>\r\n          </template>\r\n        </el-input>\r\n        \r\n        <el-date-picker\r\n          v-model=\"timeRange\"\r\n          type=\"datetimerange\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始时间\"\r\n          end-placeholder=\"结束时间\"\r\n          format=\"YYYY-MM-DD HH:mm:ss\"\r\n          value-format=\"YYYY-MM-DD HH:mm:ss\"\r\n          :disabled-date=\"disabledDate\"\r\n          style=\"width: 350px; margin-right: 15px;\"\r\n          @change=\"handleTimeRangeChange\"\r\n        />\r\n        <el-tag v-if=\"timeRangeLimit\" type=\"info\" size=\"small\" style=\"margin-left: 10px;\">\r\n          时间范围: {{ formatTimestamp(timeRangeLimit[0]) }} 至 {{ formatTimestamp(timeRangeLimit[1]) }}\r\n        </el-tag>\r\n        \r\n        <el-button @click=\"clearFilters\" type=\"info\" size=\"small\">\r\n          清除筛选\r\n        </el-button>\r\n      </div>\r\n\r\n      <!-- 日志条目表格 -->\r\n      <div class=\"entries-section\">\r\n        <div class=\"section-header\">\r\n          <h3>日志条目 ({{ filteredEntries.length }})</h3>\r\n        </div>\r\n\r\n        <el-table \r\n          :data=\"paginatedEntries\" \r\n          style=\"width: 100%\"\r\n          v-loading=\"loading\"\r\n          height=\"1000\"\r\n          stripe\r\n        >\r\n          <el-table-column prop=\"timestamp\" label=\"时间戳\" width=\"180\" sortable>\r\n            <template #default=\"{ row }\">\r\n              {{ formatTimestamp(row.timestamp) }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"error_code\" label=\"故障码\" width=\"120\" sortable />\r\n          <el-table-column prop=\"param1\" label=\"参数1\" width=\"100\" />\r\n          <el-table-column prop=\"param2\" label=\"参数2\" width=\"100\" />\r\n          <el-table-column prop=\"param3\" label=\"参数3\" width=\"100\" />\r\n          <el-table-column prop=\"param4\" label=\"参数4\" width=\"100\" />\r\n          <el-table-column prop=\"explanation\" label=\"释义\" min-width=\"300\" show-overflow-tooltip />\r\n        </el-table>\r\n\r\n        <!-- 分页 -->\r\n        <div class=\"pagination-wrapper\">\r\n          <el-pagination\r\n            :current-page=\"currentPage\"\r\n            :page-size=\"pageSize\"\r\n            :page-sizes=\"[50, 100, 200, 500]\"\r\n            :total=\"filteredEntries.length\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nimport { Search, Download, ArrowLeft } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n  name: 'LogAnalysis',\r\n  components: {\r\n    Search,\r\n    Download,\r\n    ArrowLeft\r\n  },\r\n  setup() {\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const router = useRouter()\r\n    \r\n    const logId = route.params.id\r\n    const loading = ref(false)\r\n    const logInfo = ref({})\r\n    const logEntries = ref([])\r\n    const searchKeyword = ref('')\r\n    const timeRange = ref(null)\r\n    const currentPage = ref(1)\r\n    const pageSize = ref(100)\r\n\r\n    // 获取时间范围限制\r\n    const timeRangeLimit = computed(() => {\r\n      if (logEntries.value.length === 0) return null\r\n      \r\n      const timestamps = logEntries.value.map(entry => new Date(entry.timestamp))\r\n      const minTime = new Date(Math.min(...timestamps))\r\n      const maxTime = new Date(Math.max(...timestamps))\r\n      \r\n      return [minTime, maxTime]\r\n    })\r\n\r\n    // 过滤后的条目\r\n    const filteredEntries = computed(() => {\r\n      let entries = logEntries.value\r\n      \r\n      // 搜索过滤\r\n      if (searchKeyword.value) {\r\n        entries = entries.filter(entry => \r\n          entry.explanation.toLowerCase().includes(searchKeyword.value.toLowerCase()) ||\r\n          entry.error_code.toLowerCase().includes(searchKeyword.value.toLowerCase())\r\n        )\r\n      }\r\n      \r\n      // 时间范围过滤\r\n      if (timeRange.value && timeRange.value.length === 2) {\r\n        const [startTime, endTime] = timeRange.value\r\n        entries = entries.filter(entry => {\r\n          const entryTime = new Date(entry.timestamp)\r\n          const start = new Date(startTime)\r\n          const end = new Date(endTime)\r\n          return entryTime >= start && entryTime <= end\r\n        })\r\n      }\r\n      \r\n      return entries\r\n    })\r\n\r\n    // 分页后的条目\r\n    const paginatedEntries = computed(() => {\r\n      const start = (currentPage.value - 1) * pageSize.value\r\n      const end = start + pageSize.value\r\n      return filteredEntries.value.slice(start, end)\r\n    })\r\n\r\n    // 加载日志信息\r\n    const loadLogInfo = async () => {\r\n      try {\r\n        loading.value = true\r\n        const response = await store.dispatch('logs/fetchLogs', { page: 1, limit: 1000 })\r\n        const log = response.data.logs.find(l => l.id == logId)\r\n        if (log) {\r\n          logInfo.value = log\r\n        } else {\r\n          ElMessage.error('日志不存在')\r\n          goBack()\r\n        }\r\n      } catch (error) {\r\n        ElMessage.error('加载日志信息失败')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    // 加载日志条目\r\n    const loadLogEntries = async () => {\r\n      try {\r\n        loading.value = true\r\n        const response = await store.dispatch('logs/fetchLogEntries', logId)\r\n        logEntries.value = response.data?.entries || response.entries || []\r\n      } catch (error) {\r\n        ElMessage.error('加载日志条目失败')\r\n      } finally {\r\n        loading.value = false\r\n      }\r\n    }\r\n\r\n    // 搜索处理\r\n    const handleSearch = () => {\r\n      currentPage.value = 1\r\n    }\r\n\r\n    // 时间范围变化处理\r\n    const handleTimeRangeChange = () => {\r\n      currentPage.value = 1\r\n    }\r\n\r\n    // 禁用日期函数\r\n    const disabledDate = (time) => {\r\n      if (!timeRangeLimit.value) return false\r\n      const [minTime, maxTime] = timeRangeLimit.value\r\n      return time < minTime || time > maxTime\r\n    }\r\n\r\n    // 清除筛选\r\n    const clearFilters = () => {\r\n      searchKeyword.value = ''\r\n      timeRange.value = null\r\n      currentPage.value = 1\r\n    }\r\n\r\n    // 导出CSV\r\n    const exportToCSV = () => {\r\n      const headers = ['时间戳', '故障码', '参数1', '参数2', '参数3', '参数4', '释义']\r\n      const csvContent = [\r\n        headers.join(','),\r\n        ...filteredEntries.value.map(entry => [\r\n          formatTimestamp(entry.timestamp),\r\n          entry.error_code,\r\n          entry.param1,\r\n          entry.param2,\r\n          entry.param3,\r\n          entry.param4,\r\n          `\"${entry.explanation.replace(/\"/g, '\"\"')}\"`\r\n        ].join(','))\r\n      ].join('\\n')\r\n\r\n      const blob = new Blob(['\\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' })\r\n      const link = document.createElement('a')\r\n      link.href = URL.createObjectURL(blob)\r\n      link.download = `${logInfo.value.original_name}_analysis.csv`\r\n      link.click()\r\n      URL.revokeObjectURL(link.href)\r\n      \r\n      ElMessage.success('CSV文件导出成功')\r\n    }\r\n\r\n    // 分页处理\r\n    const handleSizeChange = (size) => {\r\n      pageSize.value = size\r\n      currentPage.value = 1\r\n    }\r\n\r\n    const handleCurrentChange = (page) => {\r\n      currentPage.value = page\r\n    }\r\n\r\n    // 返回上一页\r\n    const goBack = () => {\r\n      router.go(-1)\r\n    }\r\n\r\n    // 格式化函数\r\n    const formatFileSize = (bytes) => {\r\n      if (bytes === 0) return '0 B'\r\n      const k = 1024\r\n      const sizes = ['B', 'KB', 'MB', 'GB']\r\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\r\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\r\n    }\r\n\r\n    const formatDate = (dateString) => {\r\n      if (!dateString) return '-'\r\n      return new Date(dateString).toLocaleString('zh-CN')\r\n    }\r\n\r\n    const formatTimestamp = (timestamp) => {\r\n      if (!timestamp) return '-'\r\n      const date = new Date(timestamp)\r\n      const year = date.getFullYear()\r\n      const month = String(date.getMonth() + 1).padStart(2, '0')\r\n      const day = String(date.getDate()).padStart(2, '0')\r\n      const hours = String(date.getHours()).padStart(2, '0')\r\n      const minutes = String(date.getMinutes()).padStart(2, '0')\r\n      const seconds = String(date.getSeconds()).padStart(2, '0')\r\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`\r\n    }\r\n\r\n    onMounted(() => {\r\n      loadLogInfo()\r\n      loadLogEntries()\r\n    })\r\n\r\n    return {\r\n      loading,\r\n      logInfo,\r\n      logEntries,\r\n      searchKeyword,\r\n      timeRange,\r\n      currentPage,\r\n      pageSize,\r\n      filteredEntries,\r\n      paginatedEntries,\r\n      loadLogInfo,\r\n      loadLogEntries,\r\n      handleSearch,\r\n      handleTimeRangeChange,\r\n      clearFilters,\r\n      exportToCSV,\r\n      handleSizeChange,\r\n      handleCurrentChange,\r\n      goBack,\r\n      formatFileSize,\r\n      formatDate,\r\n      formatTimestamp,\r\n      disabledDate,\r\n      timeRangeLimit\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.log-analysis-container {\r\n  padding: 20px;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.analysis-card {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.header-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.title {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.log-info {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.search-section {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  background-color: #f5f7fa;\r\n  border-radius: 6px;\r\n}\r\n\r\n.entries-section {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.section-header h3 {\r\n  margin: 0;\r\n  color: #303133;\r\n}\r\n\r\n.pagination-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 20px;\r\n  padding: 10px 0;\r\n}\r\n</style> ","import { render } from \"./LogAnalysis.vue?vue&type=template&id=4fb98c04&scoped=true\"\nimport script from \"./LogAnalysis.vue?vue&type=script&lang=js\"\nexport * from \"./LogAnalysis.vue?vue&type=script&lang=js\"\n\nimport \"./LogAnalysis.vue?vue&type=style&index=0&id=4fb98c04&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4fb98c04\"]])\n\nexport default __exports__"],"names":["class","header","goBack","icon","size","logInfo","type","original_name","exportToCSV","column","border","label","device_id","formatFileSize","formatDate","upload_time","parse_time","uploader_id","searchKeyword","placeholder","style","clearable","handleSearch","prefix","timeRange","format","disabledDate","handleTimeRangeChange","formatTimestamp","timeRangeLimit","clearFilters","filteredEntries","length","data","paginatedEntries","height","stripe","prop","width","sortable","default","row","timestamp","loading","currentPage","pageSize","total","layout","handleSizeChange","handleCurrentChange","name","components","Search","Download","ArrowLeft","setup","store","route","router","logId","params","id","logEntries","value","timestamps","map","entry","Date","minTime","Math","min","maxTime","max","entries","filter","explanation","toLowerCase","includes","error_code","startTime","endTime","entryTime","start","end","slice","loadLogInfo","async","response","dispatch","page","limit","log","logs","find","l","error","loadLogEntries","time","headers","csvContent","join","param1","param2","param3","param4","replace","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","success","go","bytes","k","sizes","i","floor","parseFloat","pow","toFixed","dateString","toLocaleString","date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","__exports__","render"],"sourceRoot":""}