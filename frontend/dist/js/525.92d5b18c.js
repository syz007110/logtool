"use strict";(self["webpackChunklogtool_frontend"]=self["webpackChunklogtool_frontend"]||[]).push([[525],{9525:function(e,r,a){a.r(r),a.d(r,{default:function(){return f}});var l=a(641);const s={class:"register-container"},o={class:"register-box"},t={class:"register-footer"};function i(e,r,a,i,d,n){const u=(0,l.g2)("el-input"),m=(0,l.g2)("el-form-item"),g=(0,l.g2)("el-button"),c=(0,l.g2)("el-form"),p=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",s,[(0,l.Lk)("div",o,[r[6]||(r[6]=(0,l.Lk)("div",{class:"register-header"},[(0,l.Lk)("h1",null,"用户注册")],-1)),(0,l.bF)(c,{ref:"registerForm",model:i.formData,rules:i.rules,class:"register-form"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{prop:"username"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{modelValue:i.formData.username,"onUpdate:modelValue":r[0]||(r[0]=e=>i.formData.username=e),placeholder:"用户名","prefix-icon":"User",size:"large"},null,8,["modelValue"])]),_:1}),(0,l.bF)(m,{prop:"email"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{modelValue:i.formData.email,"onUpdate:modelValue":r[1]||(r[1]=e=>i.formData.email=e),placeholder:"邮箱","prefix-icon":"Message",size:"large"},null,8,["modelValue"])]),_:1}),(0,l.bF)(m,{prop:"password"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{modelValue:i.formData.password,"onUpdate:modelValue":r[2]||(r[2]=e=>i.formData.password=e),type:"password",placeholder:"密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),(0,l.bF)(m,{prop:"confirmPassword"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{modelValue:i.formData.confirmPassword,"onUpdate:modelValue":r[3]||(r[3]=e=>i.formData.confirmPassword=e),type:"password",placeholder:"确认密码","prefix-icon":"Lock",size:"large","show-password":""},null,8,["modelValue"])]),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)(()=>[(0,l.bF)(g,{type:"primary",size:"large",class:"register-button",loading:i.loading,onClick:i.handleRegister},{default:(0,l.k6)(()=>r[4]||(r[4]=[(0,l.eW)(" 注册 ")])),_:1,__:[4]},8,["loading","onClick"])]),_:1})]),_:1},8,["model","rules"]),(0,l.Lk)("div",t,[(0,l.bF)(p,{to:"/login",class:"back-to-login"},{default:(0,l.k6)(()=>r[5]||(r[5]=[(0,l.eW)(" 返回登录 ")])),_:1,__:[5]})])])])}var d=a(953),n=a(6278),u=a(5220),m=a(163),g={name:"Register",setup(){const e=(0,n.Pj)(),r=(0,u.rd)(),a=(0,d.KR)(null),l=(0,d.Kh)({username:"",email:"",password:"",confirmPassword:""}),s=(0,d.KR)(!1),o=(e,r,a)=>{r!==l.password?a(new Error("两次输入的密码不一致")):a()},t={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于 6 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:o,trigger:"blur"}]},i=async()=>{try{await a.value.validate(),s.value=!0;const{confirmPassword:o,...t}=l;await e.dispatch("auth/register",t),m.nk.success("注册成功，请登录"),r.push("/login")}catch(o){m.nk.error(o.response?.data?.message||"注册失败")}finally{s.value=!1}};return{registerForm:a,formData:l,loading:s,rules:t,handleRegister:i}}},c=a(6262);const p=(0,c.A)(g,[["render",i],["__scopeId","data-v-aa1b82da"]]);var f=p}}]);
//# sourceMappingURL=525.92d5b18c.js.map