"use strict";(self["webpackChunklogtool_frontend"]=self["webpackChunklogtool_frontend"]||[]).push([[796],{2796:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var l=t(641),n=t(33);const d={class:"dashboard-container"},o={class:"header-left"},r={class:"header-right"},s={key:0,class:"header-username"};function u(e,a,t,u,i,c){const b=(0,l.g2)("Document"),g=(0,l.g2)("el-icon"),k=(0,l.g2)("el-menu-item"),_=(0,l.g2)("Globe"),h=(0,l.g2)("Upload"),f=(0,l.g2)("User"),m=(0,l.g2)("Clock"),F=(0,l.g2)("el-divider"),p=(0,l.g2)("Avatar"),v=(0,l.g2)("Setting"),C=(0,l.g2)("el-menu"),L=(0,l.g2)("el-aside"),x=(0,l.g2)("el-button"),y=(0,l.g2)("el-dropdown-item"),U=(0,l.g2)("el-dropdown-menu"),w=(0,l.g2)("el-dropdown"),$=(0,l.g2)("el-header"),E=(0,l.g2)("router-view"),W=(0,l.g2)("el-main"),A=(0,l.g2)("el-container");return(0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(L,{width:"250px",class:"sidebar"},{default:(0,l.k6)(()=>[a[0]||(a[0]=(0,l.Lk)("div",{class:"sidebar-header"},[(0,l.Lk)("h2",null,"LogTool")],-1)),(0,l.bF)(C,{"default-active":e.$route.path,class:"sidebar-menu",router:"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409eff"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{index:"/dashboard/error-codes"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(b)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("nav.errorCodes")),1)]),_:1}),(0,l.bF)(k,{index:"/dashboard/i18n-error-codes"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(_)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("i18nErrorCodes.title")),1)]),_:1}),(0,l.bF)(k,{index:"/dashboard/logs"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(h)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("nav.logs")),1)]),_:1}),(0,l.bF)(k,{index:"/dashboard/account"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("account.title")),1)]),_:1}),u.isAdmin?((0,l.uX)(),(0,l.Wv)(k,{key:0,index:"/dashboard/history"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(m)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("nav.history")),1)]),_:1})):(0,l.Q3)("",!0),u.isAdmin?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.bF)(F),(0,l.bF)(k,{index:"/dashboard/users"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(p)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("users.title")),1)]),_:1}),(0,l.bF)(k,{index:"/dashboard/roles"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(v)]),_:1}),(0,l.Lk)("span",null,(0,n.v_)(e.$t("roles.title")),1)]),_:1})],64)):(0,l.Q3)("",!0)]),_:1},8,["default-active"])]),_:1,__:[0]}),(0,l.bF)(A,{class:"main-container"},{default:(0,l.k6)(()=>[(0,l.bF)($,{class:"header"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",o,[(0,l.Lk)("h3",null,(0,n.v_)(e.$t(u.getPageTitleKey)),1)]),(0,l.Lk)("div",r,[(0,l.bF)(w,{onCommand:u.changeLanguage,disabled:""},{dropdown:(0,l.k6)(()=>[(0,l.bF)(U,null,{default:(0,l.k6)(()=>[(0,l.bF)(y,{command:"zh-CN"},{default:(0,l.k6)(()=>a[2]||(a[2]=[(0,l.eW)("中文")])),_:1,__:[2]}),(0,l.bF)(y,{command:"en-US",disabled:""},{default:(0,l.k6)(()=>a[3]||(a[3]=[(0,l.eW)("English (暂不可用)")])),_:1,__:[3]})]),_:1})]),default:(0,l.k6)(()=>[(0,l.bF)(x,{type:"text",disabled:""},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(_)]),_:1}),a[1]||(a[1]=(0,l.eW)(" 中文 "))]),_:1,__:[1]})]),_:1},8,["onCommand"]),u.currentUser&&u.currentUser.username?((0,l.uX)(),(0,l.CE)("span",s,(0,n.v_)(u.currentUser.username),1)):(0,l.Q3)("",!0),(0,l.bF)(w,{onCommand:u.handleUserCommand},{dropdown:(0,l.k6)(()=>[(0,l.bF)(U,null,{default:(0,l.k6)(()=>[(0,l.bF)(y,{command:"profile"},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.$t("nav.profile")),1)]),_:1}),(0,l.bF)(y,{command:"logout",divided:""},{default:(0,l.k6)(()=>[(0,l.eW)((0,n.v_)(e.$t("nav.logout")),1)]),_:1})]),_:1})]),default:(0,l.k6)(()=>[(0,l.bF)(x,{type:"text"},{default:(0,l.k6)(()=>[(0,l.bF)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(f)]),_:1})]),_:1})]),_:1},8,["onCommand"])])]),_:1}),(0,l.bF)(W,{class:"main-content"},{default:(0,l.k6)(()=>[(0,l.bF)(E)]),_:1})]),_:1})])}var i=t(6278),c=t(5220),b=t(7918),g=t(8548),k={name:"Dashboard",components:{Globe:g.Globe,Document:g.Document,Upload:g.Upload,User:g.User,Clock:g.Clock,Avatar:g.Avatar,Setting:g.Setting},setup(){const e=(0,i.Pj)(),a=(0,c.rd)(),t=(0,c.lq)(),n=(0,l.EW)(()=>e.getters["auth/currentUser"]),d=(0,l.EW)(()=>e.getters["auth/currentLanguage"]),o=(0,l.EW)(()=>"admin"===e.getters["auth/userRole"]),r=(0,l.EW)(()=>{const e={"/dashboard/error-codes":"errorCodes.title","/dashboard/i18n-error-codes":"i18nErrorCodes.title","/dashboard/logs":"logs.title","/dashboard/account":"account.title","/dashboard/history":"history.title","/dashboard/users":"users.title","/dashboard/roles":"roles.title"};return e[t.path]||"nav.dashboard"}),s=a=>{e.dispatch("auth/setLanguage",a),window.location.reload()},u=async t=>{if("logout"===t)try{await b.s.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),e.dispatch("auth/logout"),a.push("/login")}catch{}else"profile"===t&&a.push("/dashboard/account")};return{currentUser:n,currentLanguage:d,isAdmin:o,getPageTitleKey:r,changeLanguage:s,handleUserCommand:u}}},_=t(6262);const h=(0,_.A)(k,[["render",u],["__scopeId","data-v-4621142a"]]);var f=h}}]);
//# sourceMappingURL=796.44eb601e.js.map