"use strict";(self["webpackChunklogtool_frontend"]=self["webpackChunklogtool_frontend"]||[]).push([[698],{1698:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var n=t(641),l=t(33);const d={class:"dashboard-container"},r={class:"header-left"},o={class:"header-right"},u={key:0,class:"header-username"};function s(e,a,t,s,i,c){const b=(0,n.g2)("Document"),k=(0,n.g2)("el-icon"),g=(0,n.g2)("el-menu-item"),_=(0,n.g2)("Globe"),f=(0,n.g2)("Upload"),h=(0,n.g2)("Setting"),m=(0,n.g2)("User"),F=(0,n.g2)("Clock"),p=(0,n.g2)("el-divider"),v=(0,n.g2)("Avatar"),C=(0,n.g2)("el-menu"),L=(0,n.g2)("el-aside"),x=(0,n.g2)("el-button"),y=(0,n.g2)("el-dropdown-item"),U=(0,n.g2)("el-dropdown-menu"),W=(0,n.g2)("el-dropdown"),w=(0,n.g2)("el-header"),E=(0,n.g2)("router-view"),$=(0,n.g2)("el-main"),A=(0,n.g2)("el-container");return(0,n.uX)(),(0,n.CE)("div",d,[e.$route.meta.noSidebar?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(L,{key:0,width:"250px",class:"sidebar"},{default:(0,n.k6)(()=>[a[1]||(a[1]=(0,n.Lk)("div",{class:"sidebar-header"},[(0,n.Lk)("h2",null,"LogTool")],-1)),(0,n.bF)(C,{"default-active":e.$route.path,class:"sidebar-menu",router:"","background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409eff"},{default:(0,n.k6)(()=>[(0,n.bF)(g,{index:"/dashboard/error-codes"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(b)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("nav.errorCodes")),1)]),_:1}),(0,n.bF)(g,{index:"/dashboard/i18n-error-codes"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(_)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("i18nErrorCodes.title")),1)]),_:1}),(0,n.bF)(g,{index:"/dashboard/logs"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(f)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("nav.logs")),1)]),_:1}),s.isAdminOrExpert?((0,n.uX)(),(0,n.Wv)(g,{key:0,index:"/dashboard/devices"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(h)]),_:1}),a[0]||(a[0]=(0,n.Lk)("span",null,"设备管理",-1))]),_:1,__:[0]})):(0,n.Q3)("",!0),(0,n.bF)(g,{index:"/dashboard/account"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(m)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("account.title")),1)]),_:1}),s.isAdmin?((0,n.uX)(),(0,n.Wv)(g,{key:1,index:"/dashboard/history"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(F)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("nav.history")),1)]),_:1})):(0,n.Q3)("",!0),s.isAdmin?((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[(0,n.bF)(p),(0,n.bF)(g,{index:"/dashboard/users"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(v)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("users.title")),1)]),_:1}),(0,n.bF)(g,{index:"/dashboard/roles"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(h)]),_:1}),(0,n.Lk)("span",null,(0,l.v_)(e.$t("roles.title")),1)]),_:1})],64)):(0,n.Q3)("",!0)]),_:1},8,["default-active"])]),_:1,__:[1]})),(0,n.bF)(A,{class:"main-container"},{default:(0,n.k6)(()=>[e.$route.meta.noSidebar?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(w,{key:0,class:"header"},{default:(0,n.k6)(()=>[(0,n.Lk)("div",r,[(0,n.Lk)("h3",null,(0,l.v_)(e.$t(s.getPageTitleKey)),1)]),(0,n.Lk)("div",o,[(0,n.bF)(W,{onCommand:s.changeLanguage,disabled:""},{dropdown:(0,n.k6)(()=>[(0,n.bF)(U,null,{default:(0,n.k6)(()=>[(0,n.bF)(y,{command:"zh-CN"},{default:(0,n.k6)(()=>a[3]||(a[3]=[(0,n.eW)("中文")])),_:1,__:[3]}),(0,n.bF)(y,{command:"en-US",disabled:""},{default:(0,n.k6)(()=>a[4]||(a[4]=[(0,n.eW)("English (暂不可用)")])),_:1,__:[4]})]),_:1})]),default:(0,n.k6)(()=>[(0,n.bF)(x,{type:"text",disabled:""},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(_)]),_:1}),a[2]||(a[2]=(0,n.eW)(" 中文 "))]),_:1,__:[2]})]),_:1},8,["onCommand"]),s.currentUser&&s.currentUser.username?((0,n.uX)(),(0,n.CE)("span",u,(0,l.v_)(s.currentUser.username),1)):(0,n.Q3)("",!0),(0,n.bF)(W,{onCommand:s.handleUserCommand},{dropdown:(0,n.k6)(()=>[(0,n.bF)(U,null,{default:(0,n.k6)(()=>[(0,n.bF)(y,{command:"profile"},{default:(0,n.k6)(()=>[(0,n.eW)((0,l.v_)(e.$t("nav.profile")),1)]),_:1}),(0,n.bF)(y,{command:"logout",divided:""},{default:(0,n.k6)(()=>[(0,n.eW)((0,l.v_)(e.$t("nav.logout")),1)]),_:1})]),_:1})]),default:(0,n.k6)(()=>[(0,n.bF)(x,{type:"text"},{default:(0,n.k6)(()=>[(0,n.bF)(k,null,{default:(0,n.k6)(()=>[(0,n.bF)(m)]),_:1})]),_:1})]),_:1},8,["onCommand"])])]),_:1})),(0,n.bF)($,{class:"main-content"},{default:(0,n.k6)(()=>[(0,n.bF)(E)]),_:1})]),_:1})])}var i=t(6278),c=t(5220),b=t(7918),k=t(8548),g={name:"Dashboard",components:{Globe:k.Globe,Document:k.Document,Upload:k.Upload,User:k.User,Clock:k.Clock,Avatar:k.Avatar,Setting:k.Setting},setup(){const e=(0,i.Pj)(),a=(0,c.rd)(),t=(0,c.lq)(),l=(0,n.EW)(()=>e.getters["auth/currentUser"]),d=(0,n.EW)(()=>e.getters["auth/currentLanguage"]),r=(0,n.EW)(()=>"admin"===e.getters["auth/userRole"]),o=(0,n.EW)(()=>{const a=e.getters["auth/userRole"];return"admin"===a||"expert"===a}),u=(0,n.EW)(()=>{const e={"/dashboard/error-codes":"errorCodes.title","/dashboard/i18n-error-codes":"i18nErrorCodes.title","/dashboard/logs":"logs.title","/dashboard/account":"account.title","/dashboard/history":"history.title","/dashboard/users":"users.title","/dashboard/roles":"roles.title"};return e[t.path]||"nav.dashboard"}),s=a=>{e.dispatch("auth/setLanguage",a),window.location.reload()},k=async t=>{if("logout"===t)try{await b.s.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),e.dispatch("auth/logout"),a.push("/login")}catch{}else"profile"===t&&a.push("/dashboard/account")};return{currentUser:l,currentLanguage:d,isAdmin:r,isAdminOrExpert:o,getPageTitleKey:u,changeLanguage:s,handleUserCommand:k}}},_=t(6262);const f=(0,_.A)(g,[["render",s],["__scopeId","data-v-6970f7fa"]]);var h=f}}]);
//# sourceMappingURL=698.06488fbf.js.map