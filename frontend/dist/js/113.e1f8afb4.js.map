{"version":3,"file":"js/113.e1f8afb4.js","mappings":"gNACOA,MAAM,Q,GACJA,MAAM,U,GAINA,MAAM,Q,2BAENA,MAAM,U,iFAPW,EAAM,S,WAA9B,QAUM,MAVN,EAUM,EATJ,QAGM,MAHN,EAGM,EAFJ,QAA2B,mBAApB,EAAAC,OAAOC,OAAK,IACnB,QAAkF,GAAzEC,KAAM,EAAAC,WAAW,EAAAH,OAAOI,S,kBAAS,IAA+B,E,iBAA5B,EAAAC,WAAW,EAAAL,OAAOI,SAAM,K,oBAEvE,QAAgE,MAAhE,EAAkB,SAAK,QAAG,EAAAE,WAAW,EAAAN,OAAOO,aAAU,IACtD,QAAoD,OAA/CR,MAAM,O,aAAO,QAA2B,SAAZS,c,UACP,EAAAR,OAAOS,QAAU,EAAAT,OAAOS,OAAOC,S,WAAzD,QAEM,MAFN,EAEM,G,aADJ,QAAoI,mBAA5G,EAAAV,OAAOS,OAAdE,K,WAAjB,QAAoI,GAA5FC,IAAKD,EAAIE,GAAKC,IAAK,EAAAC,MAAMJ,EAAIK,KAAO,mBAAkB,EAAAhB,OAAOS,OAAOQ,IAAIC,GAAG,EAAAH,MAAMG,EAAEF,O,wGASjI,GACEG,KAAM,iBACNC,MAAO,CAAEP,GAAI,CAAEX,KAAMmB,OAAQC,UAAU,IACvC,KAAAC,CAAMH,GACJ,MAAMpB,GAAS,QAAI,MACbwB,EAAcC,UAClB,MAAM,KAAEC,SAAeC,EAAA,EAAIC,SAASC,UAAUT,EAAMP,IACpDb,EAAO8B,MAAQJ,GAEXrB,EAAc0B,IAAO,CAAEC,KAAM,MAAOC,YAAa,MAAOC,SAAU,OAAQH,IAAMA,GAChF5B,EAAc4B,IAAO,CAAEC,KAAM,SAAUC,YAAa,UAAWC,SAAU,WAAYH,IAAM,QAC3FzB,EAAc6B,GAAM,IAAIC,KAAKD,GAAGE,iBAChCtB,EAASuB,IACb,IAAKA,EAAG,MAAO,GACf,GAAIA,EAAEC,WAAW,QAAS,OAAOD,EACjC,MAAME,EAAUC,OAAOC,SAASC,OAAOC,QAAQ,QAAS,SACxD,OAAON,EAAEC,WAAW,KAAOC,EAAUF,EAAIE,EAAU,IAAMF,GAI3D,OAFA,QAAUd,IACV,QAAM,IAAMJ,EAAMP,GAAIW,GACf,CAAExB,SAAQK,aAAYF,aAAYG,aAAYS,QACvD,G,UChCF,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://logtool-frontend/./src/views/FeedbackDetail.vue","webpack://logtool-frontend/./src/views/FeedbackDetail.vue?b6de"],"sourcesContent":["<template>\r\n  <div class=\"card\" v-if=\"detail\">\r\n    <div class=\"header\">\r\n      <h3>{{ detail.title }}</h3>\r\n      <el-tag :type=\"statusType(detail.status)\">{{ statusText(detail.status) }}</el-tag>\r\n    </div>\r\n    <div class=\"meta\">提交时间：{{ formatTime(detail.created_at) }}</div>\r\n    <div class=\"desc\" v-text=\"detail.description\"></div>\r\n    <div class=\"images\" v-if=\"detail.images && detail.images.length\">\r\n      <el-image v-for=\"img in detail.images\" :key=\"img.id\" :src=\"toAbs(img.url)\" :preview-src-list=\"detail.images.map(i=>toAbs(i.url))\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '../api'\r\nimport { ref, onMounted, watch } from 'vue'\r\n\r\nexport default {\r\n  name: 'FeedbackDetail',\r\n  props: { id: { type: Number, required: true } },\r\n  setup(props) {\r\n    const detail = ref(null)\r\n    const fetchDetail = async () => {\r\n      const { data } = await api.feedback.getDetail(props.id)\r\n      detail.value = data\r\n    }\r\n    const statusText = (s) => ({ open: '待处理', in_progress: '处理中', resolved: '已解决' }[s] || s)\r\n    const statusType = (s) => ({ open: 'danger', in_progress: 'warning', resolved: 'success' }[s] || 'info')\r\n    const formatTime = (t) => new Date(t).toLocaleString()\r\n    const toAbs = (u) => {\r\n      if (!u) return ''\r\n      if (u.startsWith('http')) return u\r\n      const backend = window.location.origin.replace(':8080', ':3000')\r\n      return u.startsWith('/') ? backend + u : backend + '/' + u\r\n    }\r\n    onMounted(fetchDetail)\r\n    watch(() => props.id, fetchDetail)\r\n    return { detail, statusText, statusType, formatTime, toAbs }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card { background: #fff; padding: 20px; border-radius: 8px; }\r\n.header { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 8px; }\r\n.header h3 { margin: 0; }\r\n.meta { color: #888; margin-bottom: 12px; }\r\n.desc { white-space: pre-wrap; margin-bottom: 12px; }\r\n.images { display: flex; gap: 12px; flex-wrap: wrap; }\r\n.images .el-image { width: 160px; height: 160px; object-fit: cover; }\r\n</style>\r\n\r\n\r\n","import { render } from \"./FeedbackDetail.vue?vue&type=template&id=4eb79019&scoped=true\"\nimport script from \"./FeedbackDetail.vue?vue&type=script&lang=js\"\nexport * from \"./FeedbackDetail.vue?vue&type=script&lang=js\"\n\nimport \"./FeedbackDetail.vue?vue&type=style&index=0&id=4eb79019&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4eb79019\"]])\n\nexport default __exports__"],"names":["class","detail","title","type","statusType","status","statusText","formatTime","created_at","description","images","length","img","key","id","src","toAbs","url","map","i","name","props","Number","required","setup","fetchDetail","async","data","api","feedback","getDetail","value","s","open","in_progress","resolved","t","Date","toLocaleString","u","startsWith","backend","window","location","origin","replace","__exports__","render"],"sourceRoot":""}